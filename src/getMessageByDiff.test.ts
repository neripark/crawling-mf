import { getMessageByDiff } from "./getMessageByDiff";

describe("calcDiff ã®ãƒ†ã‚¹ãƒˆ", () => {
  test("ä¸¡æ–¹æ­£ã®æ•°ã®å ´åˆã€ä¾‹å¤–ã‚’æŠ•ã’ã‚‹", () => {
    expect(() => {
      getMessageByDiff({ key: "x", price: 1 }, { key: "y", price: 1 });
    }).toThrowError(
      "æ­£ã®æ•°ã«ãªã£ã¦ã„ã‚‹å°è¨ˆãŒã‚ã‚Šã¾ã™ã€‚æ”¯å‡ºãªã®ã§ã€å¿…ãšè² ã®æ•°ã®ã¯ãšã§ã™ã€‚"
    );
  });
  test("ç‰‡æ–¹ãŒè² ã®æ•°ã®å ´åˆã€ä¾‹å¤–ã‚’æŠ•ã’ã‚‹", () => {
    expect(() => {
      getMessageByDiff({ key: "x", price: -1 }, { key: "y", price: 1 });
    }).toThrowError(
      "æ­£ã®æ•°ã«ãªã£ã¦ã„ã‚‹å°è¨ˆãŒã‚ã‚Šã¾ã™ã€‚æ”¯å‡ºãªã®ã§ã€å¿…ãšè² ã®æ•°ã®ã¯ãšã§ã™ã€‚"
    );
  });
  describe("ä¸¡æ–¹è² ã®æ•°ã®å ´åˆã€æ­£ã—ãè¨ˆç®—ã•ã‚Œã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã‚‹", () => {
    test("1ã¤ç›®ã®ã»ã†ãŒå¤šã„å ´åˆ", () => {
      expect(
        getMessageByDiff(
          { key: "ğŸ’°", price: -2000 },
          { key: "ğŸ’¸", price: -500 }
        )
      ).toBe("ğŸ’°ã®ã»ã†ãŒ1,500å††å¤šã„ã§ã™ã€‚\nğŸ’¸ãŒğŸ’°ã«750å††æ‰•ã„ã¾ã—ã‚‡ã†ï¼");
    });
    test("2ã¤ç›®ã®ã»ã†ãŒå¤šã„å ´åˆ", () => {
      expect(
        getMessageByDiff(
          { key: "ğŸ’°", price: -2000 },
          { key: "ğŸ’¸", price: -5000 }
        )
      ).toBe("ğŸ’¸ã®ã»ã†ãŒ3,000å††å¤šã„ã§ã™ã€‚\nğŸ’°ãŒğŸ’¸ã«1,500å††æ‰•ã„ã¾ã—ã‚‡ã†ï¼");
    });
    test("å€¤ãŒåŒã˜å ´åˆ", () => {
      expect(
        getMessageByDiff(
          { key: "ğŸ’°", price: -2000 },
          { key: "ğŸ’¸", price: -2000 }
        )
      ).toBe("ğŸ’°ã‚‚ğŸ’¸ã‚‚ã€ã´ã£ãŸã‚ŠåŒã˜é‡‘é¡ã§ã™ã€‚");
    });
    test("ç‰‡æ–¹ãŒã‚¼ãƒ­ã®å ´åˆ", () => {
      expect(
        getMessageByDiff({ key: "ğŸ’°", price: -2900 }, { key: "ğŸ’¸", price: 0 })
      ).toBe("ğŸ’°ã®ã»ã†ãŒ2,900å††å¤šã„ã§ã™ã€‚\nğŸ’¸ãŒğŸ’°ã«1,450å††æ‰•ã„ã¾ã—ã‚‡ã†ï¼");
    });
    test("ä¸¡æ–¹ã‚¼ãƒ­ã®å ´åˆ", () => {
      expect(
        getMessageByDiff({ key: "ğŸ’°", price: 0 }, { key: "ğŸ’¸", price: 0 })
      ).toBe("0ä»¶ãªã®ã§è¨ˆç®—ã—ã¾ã›ã‚“ã§ã—ãŸã€‚");
    });
  });
});
